# 페이지별 상세 구현 계획서

---

## 📄 1. index.html (랜딩 페이지)

### 구현 항목
- [ ] 네비게이션 바 표시
- [ ] 로그인 상태에 따른 링크 변경 (동적)
- [ ] 히어로 섹션 표시
- [ ] 미리보기 섹션 (샘플 일정 데이터)
- [ ] 특징 섹션 (3개 카드)
- [ ] 푸터 표시

### 기능
- [ ] 로그인 상태 확인 (auth.js 연동)
- [ ] 네비게이션 동적 업데이트

### 검증 (Playwright)
- [ ] 페이지 로드 확인
- [ ] 네비게이션 링크 클릭 가능
- [ ] 반응형 레이아웃 확인

---

## 📄 2. login.html (로그인 페이지)

### Supabase 연동
- [ ] Supabase Auth 초기화
- [ ] 로그인 API 연동
- [ ] 세션 관리

### UI 요소
- [ ] 의사/병원 선택 버튼 (토글)
- [ ] 이메일 입력 필드
- [ ] 비밀번호 입력 필드
- [ ] "기억하기" 체크박스
- [ ] 로그인 버튼
- [ ] 회원가입 링크
- [ ] 빠른 로그인 버튼 (테스트용, 선택사항)

### 기능 구현
- [ ] 사용자 유형 선택 시 UI 업데이트
- [ ] 폼 유효성 검사 (이메일 형식, 비밀번호 필수)
- [ ] 로그인 API 호출
- [ ] 성공 시: 세션 저장 + 대시보드 리다이렉트
- [ ] 실패 시: 에러 메시지 표시
- [ ] "기억하기" 선택 시 localStorage 사용
- [ ] 이미 로그인된 경우 대시보드로 자동 리다이렉트

### 검증 (Playwright)
- [ ] 의사 계정 로그인 성공
- [ ] 병원 계정 로그인 성공
- [ ] 잘못된 비밀번호 → 에러 메시지
- [ ] 존재하지 않는 계정 → 에러 메시지
- [ ] 로그인 성공 후 올바른 대시보드 이동
- [ ] "기억하기" 선택 시 재방문 시 자동 로그인

---

## 📄 3. signup.html (회원가입 페이지)

### Supabase 연동
- [ ] Supabase Auth로 계정 생성
- [ ] 프로필 데이터 생성 (profiles 테이블)
- [ ] 사용자 유형별 상세 프로필 생성

### UI 요소
- [ ] 단계 표시기 (1/3, 2/3, 3/3)
- [ ] 사용자 유형 선택 (의사/병원)
- [ ] 기본 정보 입력 (이름, 이메일, 비밀번호, 비밀번호 확인)
- [ ] 상세 정보 입력 (유형별 다름)
- [ ] 완료 메시지

### 기능 구현 - 의사 회원가입
- [ ] Step 1: 사용자 유형 선택 → 의사 선택
- [ ] Step 2: 기본 정보 입력
  - [ ] 이름 입력
  - [ ] 이메일 입력 + 중복 체크
  - [ ] 비밀번호 입력 + 강도 검증
  - [ ] 비밀번호 확인
- [ ] Step 3: 의사 상세 정보
  - [ ] 면허번호 입력
  - [ ] 전문과목 선택
  - [ ] 경력 입력
  - [ ] 전화번호 입력
- [ ] 계정 생성 (Supabase Auth)
- [ ] 프로필 생성 (profiles + doctor_profiles)
- [ ] 성공 메시지 표시

### 기능 구현 - 병원 회원가입
- [ ] Step 1: 사용자 유형 선택 → 병원 선택
- [ ] Step 2: 기본 정보 입력
  - [ ] 병원명 입력
  - [ ] 이메일 입력 + 중복 체크
  - [ ] 비밀번호 입력
  - [ ] 비밀번호 확인
- [ ] Step 3: 병원 상세 정보
  - [ ] 주소 입력
  - [ ] 전화번호 입력
  - [ ] 담당자명 입력
  - [ ] 진료과목 선택 (다중)
- [ ] 계정 생성 (Supabase Auth)
- [ ] 프로필 생성 (profiles + hospital_profiles)
- [ ] 성공 메시지 표시

### 검증 (Playwright)
- [ ] 의사 회원가입 전체 플로우
- [ ] 병원 회원가입 전체 플로우
- [ ] 중복 이메일 체크 작동
- [ ] 약한 비밀번호 검증
- [ ] 회원가입 후 프로필 데이터 확인
- [ ] 이메일 인증 안내 메시지

---

## 📄 4. doctor-dashboard.html (의사 대시보드)

### Supabase 연동
- [ ] 본인 일정 조회 (RLS 적용)
- [ ] 일정 등록 API
- [ ] 일정 수정 API
- [ ] 일정 삭제 API
- [ ] 통계 데이터 조회

### UI 요소
- [ ] 헤더 (사용자 이름, 프로필 버튼, 일정 추가 버튼)
- [ ] 통계 바 (확정/대기/신청함 건수)
- [ ] 뷰 선택기 (내 스케줄, 일정 변경 요청)
- [ ] 캘린더 그리드 (7열 × 6행)
- [ ] 요일 헤더 (일~토)
- [ ] 날짜 셀 (날짜 번호 + 일정 배지)
- [ ] 일정 추가 모달

### 기능 구현 - 캘린더 뷰
- [ ] 현재 월 표시
- [ ] 이전/다음 월 이동 버튼
- [ ] 오늘 날짜 하이라이트
- [ ] 날짜별 일정 표시 (색상 구분)
  - [ ] 확정된 일정: 초록색
  - [ ] 대기 중인 신청: 노란색
  - [ ] 신청한 대진: 파란색
- [ ] 일정이 많은 날: "+N건" 표시
- [ ] 날짜 클릭 → 타임라인 페이지로 이동
- [ ] "+" 버튼 클릭 → 일정 추가 모달

### 기능 구현 - 일정 추가 모달
- [ ] 날짜 선택 (기본값: 클릭한 날짜)
- [ ] 시작 시간 선택 (30분 단위)
- [ ] 종료 시간 선택 (30분 단위)
- [ ] 일정 유형 선택 (확정/대기/신청함)
- [ ] 메모 입력
- [ ] 저장 버튼 → Supabase 저장
- [ ] 취소 버튼
- [ ] 저장 후 모달 닫기 + 캘린더 갱신

### 기능 구현 - 통계
- [ ] 확정된 일정 건수 조회
- [ ] 대기 중인 신청 건수 조회
- [ ] 신청 가능한 대진 건수 조회
- [ ] 실시간 업데이트

### 검증 (Playwright)
- [ ] 캘린더에 일정 표시
- [ ] 월 이동 기능
- [ ] 일정 추가 모달 열기/닫기
- [ ] 일정 추가 성공
- [ ] 날짜 클릭 시 타임라인 이동
- [ ] 통계 데이터 정확성
- [ ] 다른 의사 일정 접근 불가 (보안)

---

## 📄 5. hospital-dashboard.html (병원 대시보드)

### Supabase 연동
- [ ] 모든 의사 일정 조회 (병원 권한)
- [ ] 대진 등록 API
- [ ] 신청 의사 목록 조회
- [ ] 의사 승인/거절 API
- [ ] 변경 요청 조회 및 처리

### UI 요소 - 통합 캘린더 뷰
- [ ] 헤더 (병원명, 프로필 버튼, 대진 등록 버튼)
- [ ] 통계 바 (확정/대기/모집중/변경요청 건수)
- [ ] 뷰 선택기 (통합 캘린더, 전체 그리드, 대진 관리, 변경 요청)
- [ ] 의사 필터 (전체, 김의사, 박의사, 이의사)
- [ ] 캘린더 그리드
- [ ] 월 이동 컨트롤

### 기능 구현 - 통합 캘린더
- [ ] 모든 의사의 일정 통합 표시
- [ ] 의사별 필터링
- [ ] 상태별 색상 구분
- [ ] 날짜 클릭 → 타임라인 페이지
- [ ] "+" 버튼 → 일정 등록 모달

### UI 요소 - 전체 그리드 뷰
- [ ] 그리드 컨트롤 (월 이동)
- [ ] 범례 (확정/대기/모집중/미결)
- [ ] 테이블 헤더 (요일 + 날짜)
- [ ] 시간 행 (06:00~22:00, 30분 단위)
- [ ] 그리드 셀 (의사별 일정 표시)

### 기능 구현 - 전체 그리드
- [ ] 시간×날짜 그리드 생성
- [ ] 의사별 일정 시간대별 표시
- [ ] 미결 상태(3일 이내) 감지
- [ ] 미결 상태 셀: 연두색 + 펄스 애니메이션
- [ ] 미결 상태 배지 표시 ("!")
- [ ] 셀 클릭 → 일정 상세 모달
- [ ] 빈 셀 클릭 → 일정 등록
- [ ] 가로 스크롤 지원

### 기능 구현 - 미결 알람
- [ ] 3일 이내 미결 일정 자동 감지
- [ ] 연두색 음영 적용
- [ ] 펄스 애니메이션 효과
- [ ] 깜박이는 배지 표시
- [ ] 탭 버튼에 미결 개수 배지
- [ ] 5초마다 자동 체크

### UI 요소 - 대진 등록 모달
- [ ] 등록 방식 선택 (제안하기/직접 배정)
- [ ] 의사 선택 드롭다운 (직접 배정 시)
- [ ] 날짜 선택
- [ ] 시작/종료 시간 선택 (30분 단위)
- [ ] 진료과목 선택
- [ ] 상세 설명 입력
- [ ] 저장/취소 버튼

### 기능 구현 - 대진 등록
- [ ] 제안하기: Supabase에 모집중 상태로 저장
- [ ] 직접 배정: Supabase에 확정 상태로 저장 (의사 ID 포함)
- [ ] 중복 부킹 체크 (같은 시간대 다른 일정 확인)
- [ ] 중복 시 경고 메시지
- [ ] 저장 성공 후 리스트 갱신

### UI 요소 - 대진 관리 탭
- [ ] 탭 메뉴 (모집중/신청 의사/확정됨/완료)
- [ ] 대진 목록 카드
- [ ] 각 카드: 제목, 날짜, 시간, 상태, 액션 버튼

### 기능 구현 - 대진 관리
- [ ] 모집중 탭: 신청자 수 표시
- [ ] 신청 의사 탭: 의사 정보 + 승인/거절 버튼
- [ ] 승인 버튼 → 중복 체크 → 확정 처리
- [ ] 거절 버튼 → 신청 삭제
- [ ] 확정됨 탭: 확정된 의사 정보
- [ ] 완료 탭: 완료된 일정

### UI 요소 - 변경 요청 탭
- [ ] 변경 요청 목록
- [ ] 각 요청: 날짜, 시간, 의사(변경 전→후), 사유
- [ ] 승인/거절 버튼

### 기능 구현 - 변경 요청
- [ ] 변경 요청 목록 조회
- [ ] 변경 대상 의사의 중복 체크
- [ ] 승인 → 일정 업데이트
- [ ] 거절 → 요청 삭제

### 검증 (Playwright)
- [ ] 통합 캘린더에 모든 의사 일정 표시
- [ ] 전체 그리드 뷰 작동
- [ ] 미결 알람 효과 확인
- [ ] 대진 등록 (제안하기/직접 배정)
- [ ] 의사 신청 승인/거절
- [ ] 중복 부킹 방지 작동
- [ ] 변경 요청 승인/거절
- [ ] 탭 전환 기능

---

## 📄 6. doctor-profile.html (의사 프로필)

### Supabase 연동
- [ ] 프로필 데이터 조회
- [ ] 프로필 업데이트 API
- [ ] 프로필 이미지 업로드 (Supabase Storage)

### UI 요소
- [ ] 프로필 아바타
- [ ] 기본 정보 섹션 (이름, 이메일, 전화번호, 면허번호)
- [ ] 전문 정보 섹션 (전문과목, 경력, 자기소개)
- [ ] 근무 가능 지역 섹션 (태그 리스트 + 추가 입력)
- [ ] 근무 가능 시간 섹션 (요일별 시간 슬롯)
- [ ] 저장/취소 버튼

### 기능 구현
- [ ] 프로필 데이터 로드 (Supabase)
- [ ] 이름 수정 → Supabase 업데이트
- [ ] 전화번호 수정 → Supabase 업데이트
- [ ] 면허번호 수정 → Supabase 업데이트
- [ ] 전문과목 선택 → Supabase 업데이트
- [ ] 경력 입력 → Supabase 업데이트
- [ ] 자기소개 입력 → Supabase 업데이트
- [ ] 지역 추가: 입력 → 태그 추가 → Supabase 업데이트
- [ ] 지역 삭제: × 클릭 → 태그 제거 → Supabase 업데이트
- [ ] 시간 슬롯 클릭 → 활성/비활성 토글 → Supabase 업데이트
- [ ] 시간 슬롯 우클릭 → 시간 범위 직접 입력
- [ ] 프로필 이미지 업로드 → Supabase Storage 저장 → URL 저장
- [ ] 저장 버튼 → 모든 변경사항 일괄 저장

### 검증 (Playwright)
- [ ] 프로필 데이터 로드 확인
- [ ] 정보 수정 및 저장
- [ ] 지역 추가/삭제
- [ ] 시간 슬롯 설정
- [ ] 이미지 업로드
- [ ] 저장 후 데이터 반영 확인

---

## 📄 7. hospital-profile.html (병원 프로필)

### Supabase 연동
- [ ] 병원 프로필 조회
- [ ] 프로필 업데이트 API
- [ ] 병원 로고 업로드 (Supabase Storage)

### UI 요소
- [ ] 병원 로고
- [ ] 기본 정보 (병원명, 주소, 전화번호)
- [ ] 담당자 정보
- [ ] 진료과목 섹션 (다중 선택)
- [ ] 병원 소개
- [ ] 저장/취소 버튼

### 기능 구현
- [ ] 프로필 데이터 로드
- [ ] 병원명 수정
- [ ] 주소 수정
- [ ] 전화번호 수정
- [ ] 담당자명 수정
- [ ] 진료과목 선택/해제
- [ ] 병원 소개 입력
- [ ] 로고 업로드
- [ ] 저장 버튼 → 일괄 저장

### 검증 (Playwright)
- [ ] 프로필 로드
- [ ] 정보 수정 및 저장
- [ ] 진료과목 관리
- [ ] 로고 업로드

---

## 📄 8. schedule.html (스케줄 관리)

### Supabase 연동
- [ ] 일정 조회
- [ ] 일정 추가 API

### UI 요소
- [ ] 사이드바 (미니 캘린더)
- [ ] 메인 캘린더 뷰
- [ ] 뷰 전환 버튼 (캘린더/타임라인)
- [ ] 일정 추가 버튼

### 기능 구현
- [ ] 미니 캘린더 표시
- [ ] 메인 캘린더 표시
- [ ] 날짜 클릭 → 타임라인 뷰 전환
- [ ] 일정 추가 모달

### 검증 (Playwright)
- [ ] 캘린더 표시
- [ ] 뷰 전환
- [ ] 일정 추가

---

## 📄 9. schedule-timeline.html (의사 시간별 타임라인)

### Supabase 연동
- [ ] 선택 날짜의 일정 조회
- [ ] 일정 추가/수정 API
- [ ] 실시간 구독 (일정 변경)

### UI 요소
- [ ] 날짜 헤더 (년월일 요일)
- [ ] 날짜 이동 버튼 (이전/다음/오늘)
- [ ] 타임라인 그리드 (00:00~23:30, 30분 단위)
- [ ] 시간 레이블
- [ ] 시간 슬롯 (일정 표시/빈 슬롯)
- [ ] 일정 추가 모달

### 기능 구현
- [ ] URL 파라미터에서 날짜 읽기
- [ ] 해당 날짜 일정 조회
- [ ] 시간대별 일정 표시
  - [ ] 일정 시작 시간에 일정 카드 표시
  - [ ] 일정 시간 범위만큼 높이 조정
  - [ ] 상태별 색상 구분
- [ ] 빈 슬롯 클릭 → 일정 추가 모달
- [ ] 일정 카드 클릭 → 상세 정보 표시
- [ ] 이전/다음 날 이동
- [ ] 오늘로 이동
- [ ] URL 업데이트 (날짜 변경 시)
- [ ] 실시간 구독: 일정 추가/수정 시 자동 갱신

### 검증 (Playwright)
- [ ] 타임라인에 일정 표시
- [ ] 시간대별 정확한 표시
- [ ] 일정 추가
- [ ] 날짜 이동
- [ ] 실시간 업데이트

---

## 📄 10. hospital-timeline.html (병원 시간별 타임라인)

### Supabase 연동
- [ ] 모든 의사의 선택 날짜 일정 조회
- [ ] 실시간 구독

### UI 요소
- [ ] 날짜 헤더
- [ ] 날짜 이동 버튼
- [ ] 범례 (확정/대기/모집중)
- [ ] 의사별 타임라인 섹션
  - [ ] 의사 헤더 (이름, 전문과목)
  - [ ] 타임라인 그리드 (시간별)

### 기능 구현
- [ ] URL 파라미터에서 날짜 읽기
- [ ] 모든 의사 목록 조회
- [ ] 각 의사의 일정 조회
- [ ] 의사별 타임라인 생성
- [ ] 시간대별 일정 표시
- [ ] 중복 부킹 감지 및 경고 표시
- [ ] 일정 클릭 → 상세 정보
- [ ] 실시간 구독

### 검증 (Playwright)
- [ ] 모든 의사 타임라인 표시
- [ ] 시간대별 정확한 표시
- [ ] 중복 부킹 경고
- [ ] 날짜 이동
- [ ] 실시간 업데이트

---

## 📄 11. shift-register.html (대진 등록)

### Supabase 연동
- [ ] 대진 등록 API
- [ ] 의사 목록 조회 (직접 배정 시)
- [ ] 중복 부킹 체크 API

### UI 요소
- [ ] 등록 방식 선택 (제안하기/직접 배정)
- [ ] 의사 선택 드롭다운 (직접 배정 시만 표시)
- [ ] 날짜 선택
- [ ] 시작/종료 시간 선택
- [ ] 진료과목 선택
- [ ] 상세 설명 입력
- [ ] 저장/취소 버튼

### 기능 구현
- [ ] 등록 방식 선택 시 UI 업데이트
- [ ] 직접 배정 선택 시 의사 목록 로드
- [ ] 날짜 선택
- [ ] 시간 선택 (30분 단위)
- [ ] 시간 범위 계산 및 표시
- [ ] 중복 부킹 체크
- [ ] 제안하기: 모집중 상태로 저장
- [ ] 직접 배정: 확정 상태로 저장
- [ ] 저장 후 대시보드 이동

### 검증 (Playwright)
- [ ] 제안하기 방식 등록
- [ ] 직접 배정 방식 등록
- [ ] 중복 부킹 체크 작동
- [ ] 등록 성공 후 이동

---

## 📄 12. shift-apply.html (대진 신청)

### Supabase 연동
- [ ] 대진 상세 정보 조회
- [ ] 신청 API
- [ ] 중복 근무 체크

### UI 요소
- [ ] 병원 정보 카드 (병원명, 주소, 전화번호)
- [ ] 일정 정보 (날짜, 시간, 진료과목)
- [ ] 상세 설명
- [ ] 필수 자격 요건
- [ ] 확인사항 경고 박스
- [ ] 신청하기/취소 버튼

### 기능 구현
- [ ] URL 파라미터에서 대진 ID 읽기
- [ ] 대진 상세 정보 로드
- [ ] 병원 정보 표시
- [ ] 본인 일정과 중복 체크
- [ ] 중복 시 경고 메시지
- [ ] 신청하기 버튼 → 신청 API 호출
- [ ] 신청 성공 후 대시보드 이동

### 검증 (Playwright)
- [ ] 대진 정보 정확히 표시
- [ ] 신청 성공
- [ ] 중복 근무 경고
- [ ] 신청 후 상태 변경

---

## 📄 13. shift-detail.html (대진 상세)

### Supabase 연동
- [ ] 대진 상세 정보 조회
- [ ] 신청 의사 목록 조회
- [ ] 의사 승인/거절 API

### UI 요소
- [ ] 대진 기본 정보
- [ ] 신청 의사 목록 섹션
  - [ ] 각 의사 카드 (이름, 전문과목, 경력)
  - [ ] 승인/거절 버튼
- [ ] 상세 설명

### 기능 구현
- [ ] URL 파라미터에서 대진 ID 읽기
- [ ] 대진 정보 로드
- [ ] 신청 의사 목록 로드
- [ ] 의사 카드 클릭 → 상세 정보
- [ ] 승인 버튼 → 중복 체크 → 확정
- [ ] 거절 버튼 → 신청 삭제
- [ ] 확정 후 상태 업데이트

### 검증 (Playwright)
- [ ] 대진 정보 표시
- [ ] 신청 의사 목록 표시
- [ ] 의사 승인/거절
- [ ] 중복 체크
- [ ] 확정 후 상태 변경

---

## 검증 시나리오 플로우

### 시나리오 1: 의사 일정 관리
1. 의사 로그인
2. 대시보드에서 일정 추가
3. 타임라인에서 일정 확인
4. 일정 수정/삭제

### 시나리오 2: 병원 대진 관리
1. 병원 로그인
2. 대진 등록 (제안하기)
3. 전체 그리드에서 확인
4. 의사 신청 승인
5. 확정 확인

### 시나리오 3: 일정 변경 요청
1. 의사가 변경 요청
2. 병원 대시보드에서 확인
3. 병원이 승인
4. 일정 업데이트 확인

### 시나리오 4: 중복 방지
1. 동일 시간대 일정 등록 시도
2. 경고 메시지 표시
3. 중복 등록 방지 확인

---

## 각 Phase별 Playwright 검증 체크리스트

모든 Phase 완료 후 다음 항목 검증:
- [ ] 페이지 로드
- [ ] 주요 버튼 클릭 가능
- [ ] 폼 입력 및 제출
- [ ] 데이터 표시 정확성
- [ ] 에러 처리
- [ ] 권한 검증 (보안)
- [ ] 모바일 반응형
